{"version":3,"sources":["index.jsx"],"names":["missingClickHandler","Error","defaultSize","iconPercent","Box","div","size","theme","fg","states","state","includes","margin","symbolShapes","Symbol","withFetchIcon","ComposedComponent","fetchIcon","icon","fetch","then","res","text","setState","props","propIcon","rest","__html","IconSymbol","component","onClick","defaultProps"],"mappings":"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","sourcesContent":["// @flow\n\nimport React, { Component } from 'react';\nimport styled from 'styled-components';\n\nimport flag from './assets/flag.svg';\nimport mine from './assets/mine.svg';\n\nexport const missingClickHandler = () => {\n    throw new Error('Required!');\n};\n\nconst defaultSize = 50;\nconst iconPercent = 60;\n\nconst Box = styled.div`\n  display: inline-block;\n  min-width: ${({ size }) => size || defaultSize}px;\n  min-height: ${({ size }) => size || defaultSize}px;\n  height: ${({ size }) => size || defaultSize}px;\n  width: ${({ size }) => size || defaultSize}px;\n  background: ${({ theme: { fg, states }, state }) =>\n    state && !['flagged', 'bombed'].includes(state) && states && states[state] || fg || '#fff'};\n  color: ${({ theme: { fg, states }, state }) =>\n    state && ['flagged', 'bombed'].includes(state) && states && states[state] || fg || '#fff'};\n  box-shadow: 0 0 1px rgba(0, 0, 0, 0.2);\n  margin: ${({ margin }) => margin || 5}px;\n  position: relative;\n\n  svg {\n    fill: currentColor;\n  }\n`;\n\nconst symbolShapes = {\n  'default': '',\n  'revealed': '',\n  'flagged': flag,\n  'bombed': mine,\n}\n\nconst Symbol = styled.div`\n  position: absolute;\n  left: ${({ size }) => (size || defaultSize) * (100 - iconPercent) / 200}px;\n  top: ${({ size }) => (size || defaultSize) * (100 - iconPercent) / 200}px;\n  width: ${({ size }) => (size || defaultSize) * iconPercent / 100}px;\n  height: ${({ size }) => (size || defaultSize) * iconPercent / 100}px;\n`\n\nconst withFetchIcon = (ComposedComponent: any): any =>\n    class FetcherComponent extends Component<{\n        icon: ?string,\n      }, {\n        icon: string,\n      }> {\n      state = {}\n      componentWillMount() {\n        if (this.props.icon) {\n          this.fetchIcon(this.props.icon);\n        }\n      }\n      componentWillReceiveProps(props) {\n        if (props.icon !== this.props.icon) {\n          this.fetchIcon(props.icon);\n        }\n      }\n      fetchIcon = (icon: string): Promise<void> =>\n        fetch(icon)\n          .then((res: Response) => res.text())\n          .then((icon: string) => this.setState({ icon }));\n      render() {\n        const { icon } = this.state;\n        const { icon: propIcon, ...rest } = this.props;\n        return (\n          <ComposedComponent\n            {...rest}\n            dangerouslySetInnerHTML={{__html: icon }}\n          />\n        );\n      }\n    }\n\nconst IconSymbol = withFetchIcon(Symbol);\n\nconst component = ({ state, onClick, size }: {\n    state: \"default\" | \"flagged\" | \"bombed\" | \"revealed\",\n    onClick: Function,\n    size: ?number,\n}) => (\n  <Box onClick={onClick} state={state} size={size}>\n    <IconSymbol state={state} size={size} icon={symbolShapes[state]} />\n  </Box>\n);\n\ncomponent.defaultProps = {\n    state: 'default',\n    onClick: missingClickHandler,\n};\n\nexport default component;\n"],"file":"index.js"}